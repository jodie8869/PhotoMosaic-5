<!DOCTYPE HTML>

<html>

<head>
	<meta charset="UTF-8" />
	<title>Choose Pictures</title>

	<link type="text/css" rel="stylesheet" href="./css/reset.css" />
	<link type="text/css" rel="stylesheet" href="./css/select.css" />
</head>

<body>

<!-- HEADER -->
<header class="header">
	<div class="logo">서비스 로고</div>
	<div class="user">유저 정보</div>
</header>

<!-- SELECT PICTURES -->
<section class="select">
<div class="positioner">
	<article class="contents">
		<header>
			<section>
				<input type="text" name="title" placeholder="Title" />
			</section>
			<section>
				<input type="text" name="subtitle" placeholder="Subtitle"/>
			</section>
		</header>
		<article class="pictures">
		<div class="positioner">
			선택된 사진들이 표시됨
		</div>
		</article>
	</article>
	<section class="controll">
		<input type="file" name="pictures" multiple accept="image/*" />
		<button>Upload</button>
	</section >
</div>
</section>

<script src="script/util.js"></script>
<script>
	// call initialization file
	if (window.File && window.FileList && window.FileReader) {
		init();
	}

	// initialize
	function init() {
		var fileselect =
				document.querySelector(".controll > input");
		var filedrag = document.querySelector(".pictures > *");

		// file select
		fileselect.addEventListener("change", FileSelectHandler, false);

		// is XHR2 available?
		var xhr = new XMLHttpRequest();

		if (xhr.upload) {
			// file drop
			filedrag.addEventListener("dragover", FileDragHover, false);
			filedrag.addEventListener("dragleave", FileDragHover, false);
			filedrag.addEventListener("drop", FileSelectHandler, false);
		}
	}

	// file drag hover
	function FileDragHover(e) {
		e.stopPropagation();
		e.preventDefault();

		if (e.type == "dragover") {
			utils.appendClassName(e.target, "hover");
		} else {
			utils.removeClassName(e.target, "hover");
		}
	}

	// file selection
	function FileSelectHandler(e) {
		// cancel event and hover styling
		FileDragHover(e);

		// fetch FileList object
		var files = e.target.files || e.dataTransfer.files;

		// process all File objects
		for (var i = 0, f; f = files[i]; i++) {
			// file upload logic
			console.log("hihi");
		}
	}

</script>

</body>

</html>
